<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="detail.css" />
    <title>아티스트 프로필 수정 페이지</title>
  </head>

  <body>
    <div class="container">
      <h1 class="title">아티스트 프로필 수정하기</h1>
      <hr class="divider" />
      <div class="artist-info">
        <img
          class="artist-image"
          src="https://namu.wiki/w/%ED%8C%8C%EC%9D%BC:VanGogh_1887.jpg"
          alt="Artist Image"
        />
        <div class="artist-description">
          <input class="artist-name" id="artistName" value="고흐" />
          <div class="artist-details">
            <p><strong>본명</strong></p>
            <input
              id="artist-fullName"
              value="빈센트 빌럼 반 고흐 / Vincent Willem van Gogh"
            />
            <p><strong>경력</strong></p>
            <input
              id="artist-career"
              value="서울 갤러리 아트브릿지 단체전 2023 1.16-1.30 개인전
            2023.11.21-11.30"
            />
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const API_BASE_URL = 'http://tobiasdev.ml/services/artist/api/artists';

    async function getData() {
      let id = new URL(window.location.href).searchParams.get('id');
      console.log(id);
      let url = `${API_BASE_URL}/${id}`;
      const response = await fetch(url, {
        method: 'GET',
        headers: {
          'Content-Type': '*/*',
        },
      });
      return response.json();
    }

    getData().then((data) => {
      console.log(data);
      const name = document.getElementById('artistName');
      const fullName = document.getElementById('artist-fullName');
      const career = document.getElementById('artist-career');
      const img = document.getElementsByClassName('artist-image');
      console.log(data.name);
      name.value = data?.name === undefined ? '알 수 없음' : data.name;
      fullName.value =
        data?.realName === undefined ? '알 수 없음' : data.realName;
      career.value = data?.career === undefined ? '알 수 없음' : data.career;
    });
  </script>
</html>
