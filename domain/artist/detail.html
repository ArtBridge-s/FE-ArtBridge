<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="detail.css" />
    <title>아티스트 프로필 상세조회 페이지</title>
  </head>

  <body>
    <div class="container">
      <h1 class="title">아티스트</h1>
      <hr class="divider" />
      <div class="artist-info">
        <img
          class="artist-image"
          src="https://namu.wiki/w/%ED%8C%8C%EC%9D%BC:VanGogh_1887.jpg"
          alt="Artist Image"
        />
        <div class="artist-description">
          <h2 class="artist-name" id="artistName">고흐</h2>
          <div class="artist-details">
            <p><strong>본명</strong></p>
            <p id="artist-fullName">
              빈센트 빌럼 반 고흐 / Vincent Willem van Gogh
            </p>
            <p><strong>경력</strong></p>
            <p id="artist-career">
              서울 갤러리 아트브릿지 단체전 2023 1.16-1.30 개인전
              2023.11.21-11.30
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const API_BASE_URL = 'http://tobiasdev.ml/services/artist/api/artists';

    async function getData() {
      let id = new URL(window.location.href).searchParams.get('id');
      let url = `${API_BASE_URL}/${id}`;
      const response = await fetch(url, {
        method: 'GET',
        headers: {
          'Content-Type': '*/*',
        },
      });
      return response.json();
    }

    getData().then((data) => {
      const name = document.getElementById('artistName');
      const fullName = document.getElementById('artist-fullName');
      const career = document.getElementById('artist-career');
      const img = document.getElementsByClassName('artist-image');
      console.log(data.name);
      img.src =
        data?.imgUrl === undefined
          ? 'https://namu.wiki/w/%ED%8C%8C%EC%9D%BC:VanGogh_1887.jpg'
          : data.imgUrl;
      name.textContent = data?.name === undefined ? '알 수 없음' : data.name;
      fullName.textContent =
        data?.realName === undefined ? '알 수 없음' : data.realName;
      career.textContent =
        data?.career === undefined ? '알 수 없음' : data.career;
    });
  </script>
</html>
