<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ArtBridge</title>
    <!--필기체 폰트-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Estonia&display=swap"
      rel="stylesheet"
    />
    <!--일반 폰트-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <!--Style.css 연결-->
    <link rel="stylesheet" href="index.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <!--파비콘-->
    <link rel="icon" type="image/png" href="images/Favicon.png" />
  </head>
  <body>
    <div class="Container">
      <div class="Container-MenuBar">
        <div class="Container-LeftMenu">
          <span class="BrandName"><span>아트브릿지</span></span>
          <a href="../index.html">
            <img
              alt="Logo image"
              src="images/Logo.png"
              class="ImgLogo"
              draggable="false"
            />
          </a>
          <span class="HomeMenu"><a href="/index.html">홈</a></span>
          <span class="ArtworkMenu"
            ><a href="/domain/artwork/list.html">작품</a></span
          >
          <span class="ExhibitionMenu"
            ><a href="/domain/exhibition/list.html">전시회</a></span
          >
          <span class="IntroduceMenu"><span>소개</span></span>
          <span class="ArtistMenu"
            ><a href="/domain/artist/list.html">아티스트</a></span
          >
        </div>
        <div class="Container-RightMenu">
          <div class="GroupLoginLogout">
            <span class="TextLogin"
              ><a href="/domain/member/login.html" id="login">LOGIN</a></span
            >
            <span class="TextLogout"
              ><a href="" id="logout">LOGOUT</a></span
            >
            <span class="TextDelimeter">ㅣ</span>
            <span class="TextMyPage"
              ><a href="/domain/member/mypage.html" id="mypage"
                >마이페이지</a
              ></span
            >
          </div>
          <div class="BtnUploadArtwork">
            <span class="BtnTextUploadArtwork"
              ><a href="/domain/artwork/upload.html">작품 올리기</a></span
            >
          </div>
          <div class="BtnUploadExhibition">
            <span class="BtnTextUploadExhibition"
              ><a href="/domain/exhibition/upload.html">전시회 올리기</a></span
            >
          </div>
          <div class="Container-SearchBar">
            <div class="GroupSearchInputAndButton">
              <input id="input" placeholder="Search" class="TextSearchInput" />
              <a id="searchButton" href="#">
                <img
                  alt="Search Button image"
                  src="images/icon_Search.svg"
                  class="BtnSearch"
                  draggable="false"
                />
              </a>
            </div>
          </div>
        </div>
      </div>
      <!--Main Contents-->
      <span class="Content1Title"><span>About ArtBridge</span></span>
      <img
        src="images/Introduce.png"
        alt="Introduce Image"
        class="imgContent1"
      />
      <span class="Content1Text">
        <span>
          아트브릿지는 비영리 예술 커뮤니케이션 서비스입니다. 공유하고 싶은
          작품을 업로드하고, 자유롭게 이야기를 나누세요. 당신이 활동하는 이곳이
          바로 시간과 공간의 제약 없는 무한한 미술관입니다.
        </span>
      </span>
      <span class="Copywrite">
        <span>
          <span>34, Geobukgol-ro, Seodaemun-gu, Seoul</span>
          <br />
          <span>ART Bridge - All rights reserved 2023</span>
        </span>
      </span>
      <span class="Content2Title">
        <span>Popular Artworks</span>
      </span>
      <div class="slider1">
        <img
          src="images/Artwork3.jpg"
          alt="Artwork3 Image"
          class="imgContent2 active"
        />
        <img src="images/Artwork.png" alt="Artwork Image" class="imgContent2" />
        <img
          src="images/Artwork2.jpg"
          alt="Artwork2 Image"
          class="imgContent2"
        />
        <img
          src="images/Artwork4.jpg"
          alt="Artwork4 Image"
          class="imgContent2"
        />
      </div>
      <div class="Content2More">
        <a href="domain/artwork/list.html">see more</a>
      </div>
      <span class="Content3Title">
        <span>Today's Artists</span>
      </span>
      <div class="slider2">
        <img
          src="images/Artist.png"
          alt="Artist Image"
          class="imgContent3 active"
        />
        <img src="images/Artist2.jpg" alt="Artist2 Image" class="imgContent3" />
        <img src="images/Artist3.jpg" alt="Artist3 Image" class="imgContent3" />
        <img src="images/Artist4.jpg" alt="Artist4 Image" class="imgContent3" />
      </div>
      <span class="Content3More">
        <a href="domain/artist/list.html">see more</a>
      </span>
      <span class="Content4Title">
        <span>Current Exhibitions</span>
      </span>
      <div class="slider3">
        <img
          src="images/Exhibition.png"
          alt="Exhibition Image"
          class="imgContent4 active"
        />
        <img
          src="images/Exhibition2.jpg"
          alt="Exhibition2 Image"
          class="imgContent4"
        />
        <img
          src="images/Exhibition3.jpg"
          alt="Exhibition3 Image"
          class="imgContent4"
        />
      </div>
      <span class="Content4More">
        <a href="domain/exhibition/list.html">see more</a>
      </span>
    </div>

    <!--페이지 로드 시 페이드 인 효과-->
    <script>
      jQuery(function ($) {
        $("body").css("display", "none");
        $("body").fadeIn(2000);
        $("a.transition").click(function (event) {
          event.preventDefault();
          linkLocation = this.href;
          $("body").fadeOut(1000, redirectPage);
        });
        function redirectPage() {
          window.location = linkLocation;
        }
      });
    </script>
    <!--Silde show-->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sliders = [
          { images: document.querySelectorAll(".slider1 img"), interval: 6000 },
          { images: document.querySelectorAll(".slider2 img"), interval: 9000 },
          {
            images: document.querySelectorAll(".slider3 img"),
            interval: 14000,
          },
        ];

        sliders.forEach((slider) => {
          let currentImage = 0;

          function updateSlider() {
            slider.images.forEach((img) => img.classList.remove("active"));
            slider.images[currentImage].classList.add("active");
            currentImage = (currentImage + 1) % slider.images.length;
          }

          updateSlider();
          setInterval(updateSlider, slider.interval);
        });
      });
    </script>

    <!--관리자이면 관리자 페이지로 이동하기 버튼 추가-->
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        const auth = JSON.parse(
          atob(localStorage.getItem("token").split(".")[1])
        ).auth;

        if (auth.includes("ROLE_ADMIN")) {
          const uploadContainer2 = document.querySelector(".UploadContainer2");
          const adminButtonContainer = document.createElement("div");
          adminButtonContainer.classList.add("AdminButtonContainer");

          const adminButtonSubContainer = document.createElement("div");
          adminButtonSubContainer.classList.add("AdminButtonSubContainer");

          const adminButtonText = document.createElement("span");
          adminButtonText.classList.add("AdminButtonText");

          const adminButtonLink = document.createElement("a");
          adminButtonLink.href = "admin/artwork/upload_request.html";
          adminButtonLink.innerText = ">> 관리자 페이지로 이동하기";

          adminButtonText.appendChild(adminButtonLink);
          adminButtonSubContainer.appendChild(adminButtonText);
          adminButtonContainer.appendChild(adminButtonSubContainer);
          uploadContainer2.after(adminButtonContainer);
        }
      });
    </script>

    <!--검색창 기능-->
    <script>
      let link = document.getElementById("searchButton");
      let input = document.getElementById("input");
      // 검색 버튼 클릭시 "search/?q="+검색어 주소로 이동
      link.addEventListener("click", (e) => {
        let searchText = input.value;
        e.preventDefault();
        let url = "search/?q=" + encodeURIComponent(searchText);
        window.location.href = url;
      });
    </script>

    <!--로그인 상태에 따라 로그인/로그아웃 버튼 보이기-->
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        if (localStorage.getItem("token")) {
          document.querySelector(".TextLogin").style.display = "none";
        } else {
          document.querySelector(".TextLogout").style.display = "none";
        }
      });
      // 마이페이지 버튼 클릭시 로그인 상태 확인 후 이동 처리
      document.querySelector(".TextMyPage").addEventListener("click", (e) => {
        e.preventDefault();
        if (localStorage.getItem("token")) {
          // 로그인 토큰이 있는 경우 마이페이지로 이동
          window.location.href = "../domain/member/mypage.html";
        } else {
          // 로그인 토큰이 없는 경우 로그인 페이지로 이동
          window.alert("먼저 로그인 해주세요");
          window.location.href = "../domain/member/login.html";
        }
      });
    </script>

    <!--로그아웃 버튼 클릭시 로컬스토리지에서 토큰 삭제-->
    <script>
      document.querySelector('.TextLogout').addEventListener('click', (event) => {
        event.preventDefault();
        localStorage.removeItem('token');
        location.reload();
      });
    </script>
  </body>
</html>
